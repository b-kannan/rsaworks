<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2018-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<!-- License URL : <https://store.webkul.com/license.html/> -->

<odoo>
    <data>
        <record id="ssi_equipment_form" model="ir.ui.view">
        <field name="name">ssi.equipment_form</field>
        <field name="model">maintenance.equipment</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
        <field eval="20" name="sequence"/>
        <field name="type">form</field>
            <field name="arch" type="xml">
			  <xpath expr="//form[1]/sheet[1]/notebook[1]" position="replace">
                            <notebook>
                        <page string="Description">
                            <field name="note"/>
                        </page>
                        <page string="Nameplate Info">
                        <group>
                          <group>
                            <field name="model"/>
                            <field name="serial_no"/>

                            <field name="description" attrs="{'required': [('category_id', '=', 4)]}"/>
                            <field name="rating" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="rating_unit" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="poles" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="voltage" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="enclosure" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="mounting" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="manufacture"/>
                            <field name="customer_stock_number"/>
                            <field name="customer_id_number"/>
                            <field name="amps"/>
                            <field name="rpm_nameplate"/>
                            <field name="phase"/>
                            <field name="frame"/>
                            <field name="winding_type"/>
                            <field name="bearing_type"/>
                            <field name="de_bearing"/>
                            <field name="ode_bearing"/>
                          </group>
                          <group>
                            <field name="lube_type"/>
                            <field name="weight_in_lbs"  attrs="{'required': [('category_id', '!=', 5)]}"/>
                            <field name="duty"/>
                            <field name="service_factor"/>
                            <field name="ul_rating"/>
                            <field name="nema_design"/>
                            <field name="temp_rise"/>
                            <field name="hz"/>
                            <field name="code"/>
                            <field name="insulation_class"/>
                            <field name="direction_of_rotation" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="jbox_location" attrs="{'required': [('category_id', '!=', 4)]}"/>
                            <field name="r_voltage"/>
                            <field name="r_amps"/>
                            <field name="excit_type"/>
                            <field name="field_volts"/>
                            <field name="field_amps"/>
                            <field name="f_ohm"/>
                            <field name="armature_winding_type"/>
                            <field name="coupling_installed" attrs="{'required': [('category_id', '!=', 4)]}"/>

                          </group>
                        </group>
                      </page>
                        <page string="Product Information">
                            <group>
                                <group>
                                    <field name="partner_id" context="{'default_supplier': True, 'default_customer': False}"/>
                                    <field name="partner_ref"/>
                                    <!-- <field name="model"/>
                                    <field name="serial_no"/> -->
                                </group><group>
                                    <field name="effective_date"/>
                                    <field name="cost" groups="maintenance.group_equipment_manager"/>
                                    <field name="warranty_date"/>
                                </group>
                            </group>
                        </page>
                        <page string="Maintenance and Storage">
                            <group>
                                <group name="maintenance">
                                    <field name="next_action_date" class="oe_read_only" string="Next Preventive Maintenance"/>
                                    <label for="period" string="Preventive Maintenance Frequency"/>
                                    <div class="o_row">
                                        <field name="period"/> days
                                    </div>
                                    <label for="maintenance_duration" string="Maintenance Duration"/>
                                    <div class="o_row">
                                        <field name="maintenance_duration"/> hours
                                    </div>
                                </group>
                                <group>
                                    <field name="length"/>
                                    <field name="additional_length"/>
                                    <field name="width"/>
                                    <field name="additional_width"/>
                                    <field name="square_feet"/>
                                    <field name="weight"/>
                                    <field name="height"/>
                                    <field name="stock_number"/>

                                </group>
									<field name="storage_ids" context="{'default_equipment_id':active_id,'default_check_in':time.strftime('%Y-%m-%d %H:%M:%S')}"> 
                                      <tree string="storage" create="true" edit="true">
                                        <field name="location_id"/>
                                        <field name="check_in"/>
                                        <field name="check_out"/>
                                        <field name="status"/>
                                      </tree>
                                    </field>

                            </group>
                        </page>
                    </notebook>
          </xpath>
            <xpath expr="//field[@name='category_id']" position="replace">
              <field name="category_id" attrs="{'required': [('category_id', '!=', 0)]}"/>
            </xpath>
            <xpath expr="//field[@name='category_id']" position="after">
              <!-- <field name="partner_id" /> -->
              <field name="customer_id"/>
            </xpath>
            <xpath expr="//field[@name='location']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='workcenter_id']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="invisible">1</attribute>
            </xpath>


            <!-- <xpath expr="//group[1]/group[2]" position="replace">
                <group>
                    <field name="maintenance_team_id" attrs="{'required': [('period', '!=', 0)]}"/>
                    <field name="technician_user_id"/>
                    <field name="assign_date" groups="base.group_no_one"/>
                    <field name="scrap_date" groups="base.group_no_one"/>
                    <field name="location" invisible="1" string="Used in location"/>

                </group>
            </xpath> -->
            </field>
        </record>


        <record model="ir.ui.view" id="storage_form_view">
          <field name="name">storage.form</field>
          <field name="model">storage</field>
          <field name="arch" type="xml">
              <form string="Storage Form">
                  <sheet>
                      <group>
                          <group>

                              <field name="location_id"/>
                              <field name="equipment_id" context="{'equipment_id':context.get('id')}"/>
                              <field name="status"/>
                          </group>
                          <group>
                              <field name="check_in"/>
                              <field name="check_out"/>
                          </group>
                      </group>
                  </sheet>
              </form>
          </field>
      </record>

    </data>
</odoo>
