<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2018-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<!-- License URL : <https://store.webkul.com/license.html/> -->

<odoo>
    <data>
        <record model="ir.ui.view" id="ssi_wo_customizations">
          <field name="name">ssi_wo_customizations.tree</field>
          <field name="model">mrp.workorder</field>
          <field name="inherit_id" ref="mrp.mrp_production_workorder_tree_view_inherit"/>
          <field name="type">tree</field>
          <field name="arch" type="xml">
            <xpath expr="//tree[1]/field[@name='name']" position="before">
              <field name="ssi_job_id"/>
            </xpath>
          </field>
      </record>


      <record model="ir.ui.view" id="ssi_wo_form_customizations">
          <field name="name">ssi_wo_customizations.form</field>
          <field name="model">mrp.workorder</field>
          <field name="inherit_id" ref="mrp.mrp_production_workorder_form_view_inherit"/>
          <field name="type">form</field>
          <field name="arch" type="xml">
            <xpath expr="//header" position="replace">
                <field name="check_ids" invisible="1"/>
                <field name="quality_check_fail" invisible="1"/>
                <header>
                    <!-- button name="open_tablet_view" type="object" string="Process" attrs="{'invisible': [('state', 'not in', ('ready', 'progress'))]}"/ -->
                    <button name="button_start" type="object" string="Start Working" attrs="{'invisible': [('state', 'in', ('progress', 'done'))]}"/>
                    <button name="record_production" type="object" string="Dones" class="btn-success" attrs="{'invisible': [('state', 'in', ('ready', 'done'))]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="pending,ready,progress,done"/>
                </header>
            </xpath>
          </field>
      </record>

    </data>
</odoo>






<!-- NEW -->
<?xml version="1.0"?>
<form string="Production Workcenter" delete="0" create="0">
            <field name="is_user_working" invisible="1"/>
            <field name="working_state" invisible="1"/>
            <field name="production_state" invisible="1"/>
            <header>
                <button name="button_finish" type="object" string="Finish Order" attrs="{'invisible': ['|', ('state', '!=', 'progress'), ('is_produced', '=', False)]}" class="btn-info"/>
                <button name="button_start" type="object" string="Start Working" attrs="{'invisible': ['|', ('working_state', '=', 'blocked'), ('state', '!=', 'pending')]}"/>
                <button name="button_start" type="object" string="Start Working" attrs="{'invisible': ['|', ('working_state', '=', 'blocked'), ('state', '!=', 'ready')]}" class="btn-success"/>
                <button 
                name="record_production" 
                type="object" 
                string="Done" 
                class="btn-success" 
                attrs="{'invisible': ['|', '|', '|', 
                ('is_produced', '=', True), 
                ('working_state', '=', 'blocked'), 
                ('state', '!=', 'progress'), 
                ('is_user_working', '=', False)]}"/>
                <button name="button_pending" type="object" string="Pause" class="btn-warning" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('state', 'in', ('done', 'pending', 'ready', 'cancel')), ('is_user_working', '=', False)]}"/>
                <button name="347" type="action" context="{'default_workcenter_id': workcenter_id}" string="Block" class="btn-danger" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('state', 'in', ('done', 'pending', 'ready', 'cancel')), ('is_user_working', '=', False)]}"/>
                <button name="button_unblock" type="object" string="Unblock" class="btn-danger" attrs="{'invisible': [('working_state', '!=', 'blocked')]}"/>
                <button name="button_start" type="object" string="Continue Production" class="btn-warning" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('is_user_working', '=', True), ('state', 'in', ('done', 'pending', 'ready', 'cancel'))]}"/>
                <button name="button_start" type="object" string="Continue Production" attrs="{'invisible': ['|', '|', ('production_state', '=', 'done'), ('working_state', '=', 'blocked'), ('state', '!=', 'done')]}"/>
                <button name="button_scrap" type="object" string="Scrap" attrs="{'invisible': [('state', 'in', ('confirmed', 'cancel'))]}"/>
                <field name="state" widget="statusbar" statusbar_visible="pending,ready,progress,done"/>
            </header>
            <sheet>
                <div class="oe_button_box" name="button_box">
                    <button class="oe_stat_button" name="action_see_move_scrap" type="object" icon="fa-arrows-v" attrs="{'invisible': [('scrap_count', '=', 0)]}">
                        <div class="o_field_widget o_stat_info">
                            <span class="o_stat_value"><field name="scrap_count"/></span>
                            <span class="o_stat_text">Scraps</span>
                        </div>
                    </button>
                </div>
                <group>
                    <group>
                        <field name="product_id" string="To Produce"/>
                        <label for="qty_produced" string="Quantity Produced"/>
                        <div class="o_row">
                            <field name="qty_produced"/> /
                            <field name="qty_production"/>
                            <field name="product_uom_id"/>
                            <field name="production_availability" nolabel="1" widget="bullet_state" options="{'classes': {'assigned': 'success', 'waiting': 'danger'}}" attrs="{'invisible': [('state', '=', 'done')]}"/>
                        </div>
                        <field name="is_produced" invisible="1"/>
                    </group>
                </group>
                <notebook>
                <page string="Work Instruction" attrs="{'invisible': [('worksheet', '=', False)]}">
                    <field name="worksheet" widget="pdf_viewer"/>
                </page>
                <page string="Current Production">
                    <group>
                        <group>
                            <field name="qty_producing" string="Current Qty" attrs="{'readonly': ['|', ('product_tracking', '=', 'serial'), ('state', 'in', ('done', 'cancel'))]}"/>
                            <field name="final_lot_id" context="{'default_product_id': product_id}" domain="['|', '&amp;', ('product_id', '=', product_id), ('product_id.tracking', '!=', 'serial'), ('use_next_on_work_order_id', '=', id)]" attrs="{'invisible': [('product_tracking', '=', 'none')]}" groups="stock.group_production_lot"/>
                            <field name="product_tracking" invisible="1"/>
                        </group>
                    </group>
                    <field name="move_raw_ids" invisible="1"/>
                    <field name="active_move_line_ids" attrs="{'invisible': [('active_move_line_ids', '=', [])]}">
                        <tree editable="bottom" create="0" delete="0">
                            <field name="product_id"/>
                            <field name="product_uom_qty" readonly="1" invisible="1" string="To Consume"/>
                            <field name="lot_id" domain="[('product_id', '=', product_id)]" context="{'default_product_id': product_id}"/>
                            <field name="qty_done"/>
                            <field name="product_uom_id" invisible="1"/>
                            <field name="location_id" invisible="1"/>
                            <field name="location_dest_id" invisible="1"/>
                            <field name="move_id" invisible="1"/>
                            <field name="done_wo" invisible="1"/>
                        </tree>
                    </field>
                </page>
                <page string="Time Tracking" groups="mrp.group_mrp_manager">
                    <group>
                        <group>
                            <label for="date_planned_start" string="Planned Date"/>
                            <div class="o_row">
                                <field name="date_planned_start" class="mr8"/>
                                <div attrs="{'invisible': [('date_planned_start', '=', False)]}" class="o_row">
                                    <strong attrs="{'invisible': [('date_planned_finished', '=', False)]}" class="mr8">to</strong>
                                    <strong class="oe_edit_only mr8" attrs="{'invisible': [('date_planned_finished', '!=', False)]}">to</strong>
                                    <field name="date_planned_finished"/>
                                </div>
                            </div>
                            <label for="date_start" string="Effective Date"/>
                            <div class="o_row">
                                <field name="date_start" readonly="1"/>
                                <div attrs="{'invisible': [('date_finished', '=', False)]}">
                                    <strong class="mr8">to</strong>
                                    <field name="date_finished" readonly="1"/>
                                </div>
                            </div>
                        </group>
                        <group>
                            <label for="duration_expected"/>
                            <div>
                                <field name="duration_expected" widget="float_time" class="oe_inline"/>
                                minutes
                            </div>
                            <label for="duration"/>
                            <div>
                                <button style="pointer-events: none;" class="oe_inline badge badge-secondary">
                                    <field name="duration" widget="mrp_time_counter" help="Time the currently logged user spent on this workorder."/>
                                </button>
                            </div>
                        </group>
                    </group>
                    <group>
                        <field name="time_ids" nolabel="1" context="{'default_workcenter_id': workcenter_id}">
                            <tree>
                                <field name="date_start"/>
                                <field name="date_end"/>
                                <field name="duration" widget="float_time" sum="Total duration"/>
                                <field name="user_id"/>
                                <field name="workcenter_id" invisible="1"/>
                                <field name="loss_id" string="Productivity"/>
                            </tree>
                            <form>
                                <group>
                                    <group>
                                        <field name="date_start"/>
                                        <field name="date_end"/>
                                        <field name="duration" widget="float_time"/>
                                    </group>
                                    <group>
                                        <field name="user_id"/>
                                        <field name="workcenter_id"/>
                                        <field name="loss_id"/>
                                    </group>
                                </group>
                            </form>
                        </field>
                    </group>
                </page>
                <page string="Miscellaneous" groups="mrp.group_mrp_manager">
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="workcenter_id" readonly="1"/>
                            <field name="production_id" readonly="1"/>
                        </group>
                    </group>
                </page>
                </notebook>
            </sheet>
            <div class="oe_chatter" groups="mrp.group_mrp_manager">
                <field name="message_follower_ids" widget="mail_followers"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
            </form>
        

<!-- OLD -->
<?xml version="1.0"?>
<form string="Production Workcenter" delete="0" create="0">
            <field name="is_user_working" invisible="1"/>
            <field name="working_state" invisible="1"/>
            <field name="production_state" invisible="1"/>
            <header>
                <button name="button_finish" type="object" string="Finish Order" attrs="{'invisible': ['|', ('state', '!=', 'progress'), ('is_produced', '=', False)]}" class="btn-info"/>
                <button name="button_start" type="object" string="Start Working" attrs="{'invisible': ['|', ('working_state', '=', 'blocked'), ('state', '!=', 'pending')]}"/>
                <button name="button_start" type="object" string="Start Working" attrs="{'invisible': ['|', ('working_state', '=', 'blocked'), ('state', '!=', 'ready')]}" class="btn-success"/>
                <button 
                  name="record_production" 
                  type="object" 
                  string="Done" 
                  class="btn-success" 
                  attrs="{'invisible': ['|', '|', '|', 
                  ('is_produced', '=', True), 
                  ('working_state', '=', 'blocked'), 
                  ('state', '!=', 'progress'), 
                  ('is_user_working', '=', False)]}"/>
                <button name="button_pending" type="object" string="Pause" class="btn-warning" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('state', 'in', ('done', 'pending', 'ready', 'cancel')), ('is_user_working', '=', False)]}"/>
                <button name="688" type="action" context="{'default_workcenter_id': workcenter_id}" string="Block" class="btn-danger" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('state', 'in', ('done', 'pending', 'ready', 'cancel')), ('is_user_working', '=', False)]}"/>
                <button name="button_unblock" type="object" string="Unblock" class="btn-danger" attrs="{'invisible': [('working_state', '!=', 'blocked')]}"/>
                <button name="button_start" type="object" string="Continue Production" class="btn-warning" attrs="{'invisible': ['|', '|', ('working_state', '=', 'blocked'), ('is_user_working', '=', True), ('state', 'in', ('done', 'pending', 'ready', 'cancel'))]}"/>
                <button name="button_start" type="object" string="Continue Production" attrs="{'invisible': ['|', '|', ('production_state', '=', 'done'), ('working_state', '=', 'blocked'), ('state', '!=', 'done')]}"/>
                <button name="button_scrap" type="object" string="Scrap" attrs="{'invisible': [('state', 'in', ('confirmed', 'cancel'))]}"/>
                <field name="state" widget="statusbar" statusbar_visible="pending,ready,progress,done"/>
            </header>
            <sheet>
                <div class="oe_button_box" name="button_box">
                    <button class="oe_stat_button" name="action_see_move_scrap" type="object" icon="fa-arrows-v" attrs="{'invisible': [('scrap_count', '=', 0)]}">
                        <div class="o_field_widget o_stat_info">
                            <span class="o_stat_value"><field name="scrap_count"/></span>
                            <span class="o_stat_text">Scraps</span>
                        </div>
                    </button>
                </div>
                <group>
                    <group>
                        <field name="product_id" string="To Produce"/>
                        <label for="qty_produced" string="Quantity Produced"/>
                        <div class="o_row">
                            <field name="qty_produced"/> /
                            <field name="qty_production"/>
                            <field name="product_uom_id"/>
                            <field name="production_availability" nolabel="1" widget="bullet_state" options="{'classes': {'assigned': 'success', 'waiting': 'danger'}}" attrs="{'invisible': [('state', '=', 'done')]}"/>
                        </div>
                        <field name="is_produced" invisible="1"/>
                    </group>
                </group>
                <notebook>
                <page string="Work Instruction" attrs="{'invisible': [('worksheet', '=', False)]}">
                    <field name="worksheet" widget="pdf_viewer"/>
                </page>
                <page string="Time Tracking" groups="mrp.group_mrp_manager">
                    <group>
                        <group>
                            <label for="date_planned_start" string="Planned Date"/>
                            <div class="o_row">
                                <field name="date_planned_start" class="mr8"/>
                                <div attrs="{'invisible': [('date_planned_start', '=', False)]}" class="o_row">
                                    <strong attrs="{'invisible': [('date_planned_finished', '=', False)]}" class="mr8">to</strong>
                                    <strong class="oe_edit_only mr8" attrs="{'invisible': [('date_planned_finished', '!=', False)]}">to</strong>
                                    <field name="date_planned_finished"/>
                                </div>
                            </div>
                            <label for="date_start" string="Effective Date"/>
                            <div class="o_row">
                                <field name="date_start" readonly="1"/>
                                <div attrs="{'invisible': [('date_finished', '=', False)]}">
                                    <strong class="mr8">to</strong>
                                    <field name="date_finished" readonly="1"/>
                                </div>
                            </div>
                        </group>
                        <group>
                            <label for="duration_expected"/>
                            <div>
                                <field name="duration_expected" widget="float_time" class="oe_inline"/>
                                minutes
                            </div>
                            <label for="duration"/>
                            <div>
                                <button style="pointer-events: none;" class="oe_inline badge badge-secondary">
                                    <field name="duration" widget="mrp_time_counter" help="Time the currently logged user spent on this workorder."/>
                                </button>
                            </div>
                        </group>
                    </group>
                    <group>
                        <field name="time_ids" nolabel="1" context="{'default_workcenter_id': workcenter_id}">
                            <tree>
                                <field name="date_start"/>
                                <field name="date_end"/>
                                <field name="duration" widget="float_time" sum="Total duration"/>
                                <field name="user_id"/>
                                <field name="workcenter_id" invisible="1"/>
                                <field name="loss_id" string="Productivity"/>
                            </tree>
                            <form>
                                <group>
                                    <group>
                                        <field name="date_start"/>
                                        <field name="date_end"/>
                                        <field name="duration" widget="float_time"/>
                                    </group>
                                    <group>
                                        <field name="user_id"/>
                                        <field name="workcenter_id"/>
                                        <field name="loss_id"/>
                                    </group>
                                </group>
                            </form>
                        </field>
                    </group>
                </page>
                <page string="Current Production">
                    <group>
                        <group>
                            <field name="qty_producing" string="Current Qty" attrs="{'readonly': ['|', ('product_tracking', '=', 'serial'), ('state', 'in', ('done', 'cancel'))]}"/>
                            <field name="final_lot_id" context="{'default_product_id': product_id}" domain="['|', '&amp;', ('product_id', '=', product_id), ('product_id.tracking', '!=', 'serial'), ('use_next_on_work_order_id', '=', id)]" attrs="{'invisible': [('product_tracking', '=', 'none')]}" groups="stock.group_production_lot"/>
                            <field name="product_tracking" invisible="1"/>
                        </group>
                    </group>
                    <field name="move_raw_ids" invisible="1"/>
                    <field name="active_move_line_ids" attrs="{'invisible': [('active_move_line_ids', '=', [])]}">
                        <tree editable="bottom" create="0" delete="0">
                            <field name="product_id"/>
                            <field name="product_uom_qty" readonly="1" invisible="1" string="To Consume"/>
                            <field name="lot_id" domain="[('product_id', '=', product_id)]" context="{'default_product_id': product_id}"/>
                            <field name="qty_done"/>
                            <field name="product_uom_id" invisible="1"/>
                            <field name="location_id" invisible="1"/>
                            <field name="location_dest_id" invisible="1"/>
                            <field name="move_id" invisible="1"/>
                            <field name="done_wo" invisible="1"/>
                        </tree>
                    </field>
                </page>
                <page string="Miscellaneous" groups="mrp.group_mrp_manager">
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="workcenter_id" readonly="1"/>
                            <field name="production_id" readonly="1"/>
                        </group>
                    </group>
                </page>
                </notebook>
            </sheet>
            <div class="oe_chatter" groups="mrp.group_mrp_manager">
                <field name="message_follower_ids" widget="mail_followers"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
            </form>
        



        <data>
  <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='product_id']" position="before">
    <xpath expr="//form[1]/sheet[1]/notebook[1]/page[4]/group[1]/group[1]/field[@name='workcenter_id']" position="move"/>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='product_id']" position="after">
    <field name="x_studio_job" string="Job" attrs="{}" readonly="1"/>
    <field name="x_studio_field_xYmNf"/>
  </xpath>
  <xpath expr="//field[@name='is_produced']" position="attributes">
    <attribute name="attrs">{}</attribute>
    <attribute name="string">Has Been Completed</attribute>
    <attribute name="widget">boolean_toggle</attribute>
  </xpath>
  <xpath expr="//field[@name='duration_expected']" position="attributes">
    <attribute name="attrs">{}</attribute>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]/group[2]/field[@name='time_ids']/tree[1]/field[@name='user_id']" position="after">
    <field name="x_studio_labor_codes"/>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]/group[2]/field[@name='time_ids']/form[1]/group[1]/group[1]/field[@name='date_end']" position="attributes">
    <attribute name="widget">datetime</attribute>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]/group[2]/field[@name='time_ids']/form[1]/group[1]/group[1]/field[@name='duration']" position="after">
    <field name="x_studio_labor_codes"/>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]/group[2]/field[@name='time_ids']/form[1]/group[1]/group[2]/field[@name='loss_id']" position="after">
    <field name="x_studio_job" string="Job" attrs="{}" invisible="1"/>
  </xpath>
  <xpath expr="//form[1]/sheet[1]/notebook[1]/page[4]/group[1]" position="after">
    <group name="studio_group_QIwtd">
      <group name="studio_group_QIwtd_left" string="Notes">
        <field name="x_studio_field_5zZX0"/>
      </group>
    </group>
  </xpath>
</data>
