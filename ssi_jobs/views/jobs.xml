<?xml version="1.0"?>

<odoo>

<record id="jobs_form" model="ir.ui.view">
    <field name="name">jobs.form</field>
    <field name="model">ssi_jobs</field>
    <field name="arch" type="xml">
        <form string="Jobs">
            <div class="oe_button_box" name="button_box">
                <button class="oe_stat_button" icon="fa-dollar" type="object" name="action_view_estimates">
                  <field name="order_total" string="Estimate" widget="statinfo"/>
                </button>
                <!-- <button class="oe_stat_button" icon="fa-credit-card" type="action" name="759">
                  <field name="po_count" string="Purchase Orders" placeholder="Purchase Orders" widget="statinfo"/>
                </button>
                <button class="oe_stat_button" icon="fa-file-o" type="action" name="760">
                  <field name="ai_count" string="Vendor Bills" widget="statinfo"/>
                </button>

                <button class="oe_stat_button" icon="fa-wrench" type="action" name="753">
                  <field name="prod_count" string="Operations" widget="statinfo"/>
                </button>

                <button class="oe_stat_button" icon="fa-file-o" type="action" name="763">
                  <field name="wo_count" string="Vendor Bills" widget="statinfo"/>
                </button>
                <button class="oe_stat_button" icon="fa-file-o" type="action">
                  <field name="wc_count" string="Vendor Bills" widget="statinfo"/>
                </button> -->

                <button name="toggle_active" type="object"
                    class="oe_stat_button" icon="fa-archive">
                    <field name="active" widget="boolean_button"
                        options='{"terminology": "archive"}'/>
                </button>
            </div>
            <group name="main">
                <group name="left">
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="objects"/>
                    <field name="size"/>
                    <field name="sizeUM"/>
                    <field name="shaft"/>
                    <field name="dimensions"/>
                </group>
                <group name="right">
                    <field name="ready_for_pickup"/>
                    <field name="urgency"/>
                    <field name="po_number"/>
                    <field name="weight"/>
                    <field name="weightUM"/>
                    <field name="notes"/>
                    <field name="status"/>
                </group>
            </group>
          <notebook>
            <page name="equipment" string="Equioment"/>
            <page name="info" string="Creation Info"/>
          </notebook>
        </form>
    </field>
</record>

<record id="jobs_tree" model="ir.ui.view">
    <field name="name">jobs.tree</field>
    <field name="model">ssi_jobs</field>
    <field name="arch" type="xml">
        <tree string="Jobs">
            <field name="name"/>
            <field name="partner_id"/>
        </tree>
    </field>
</record>

<record id="jobs_search" model="ir.ui.view">
    <field name="name">jobs.search</field>
    <field name="model">ssi_jobs</field>
    <field name="arch" type="xml">
        <search string="Search Jobs">
            <field name="name" filter_domain="['|', ('name', 'ilike', self), ('code', 'ilike', self)]" string="Name or Number"/>
            <field name="partner_id"/>
            <separator/>
            <filter name="inactive" string="Archived" domain="[('active', '=', False)]"/>
            <group name="groupby">
                <filter name="partner_groupby" string="Partner"
                    context="{'group_by': 'partner_id'}"/>
            </group>
        </search>
    </field>
</record>

<record id="jobs_action" model="ir.actions.act_window">
    <field name="name">Jobs</field>
    <field name="res_model">ssi_jobs</field>
    <field name="view_mode">tree,form</field>
</record>

<menuitem id="jobs_menu" action="jobs_action"
   sequence="100"/>


<record id="ssi_estimate_tree" model="ir.ui.view">
    <field name="name">ssi_estimate.tree</field>
    <field name="model">sale.order</field>
    <field name="arch" type="xml">
        <tree string="Jobs">
            <field name="name"/>
            <!-- <field name="confirmation_date"/>
            <field name="commitment_date"/>
            <field name="expected_date"/>
            <field name="partner_id"/>
            <field name="user_id"/>
            <field name="amount_total"/>
            <field name="invoice_status"/> -->
        </tree>
    </field>
</record>


<record id="sale_order_estimate_line_action" model="ir.actions.act_window">
  <field name="auto_search" eval="True"/>
  <field name="binding_model_id" eval="False"/>
  <field name="binding_type">action</field>
  <field name="context">{'search_default_ssi_job_id': active_id,'default_ssi_job_id': active_id}</field>
  <!-- <field name="domain">[('ssi_job_id', '=', active_id)]</field> -->
  <field name="filter" eval="False"/>
  <field name="groups_id" eval="[(6, 0, [])]"/>
  <field name="help" eval="False"/>
  <field name="limit">80</field>
  <field name="multi" eval="False"/>
  <field name="name">Estimates</field>
  <field name="res_model">sale.order</field>
  <field name="search_view_id" eval="False"/>
  <field name="src_model" eval="False"/>
  <field name="target">current</field>
  <field name="type">ir.actions.act_window</field>
  <field name="usage" eval="False"/>
  <field name="view_id" ref="ssi_estimate_tree"/>
  <field name="view_mode">tree,form</field>
  <field name="view_type">form</field>
</record>

<!-- <record id="sale_order_estimate_line_action" model="ir.actions.act_window">
        <field name="name">Estimates</field>
        <field name="res_model">sale.order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree, form</field>
        <field name="view_id" ref="view_move_line_tree"/>
        <field name="help" type="html">
          <p class="o_view_nocontent_empty_folder">
            There's no product move yet
          </p>
        </field>
</record> -->


</odoo>
